<div class="bg-white rounded-xl shadow-lg p-6 h-full">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">
    Intervalo del Reporte
  </h2>

  <!-- Checkbox para seleccionar todos los datos -->
  <div class="mb-6">
    <mat-checkbox (change)="onSelectAllChange($event)" [color]="'primary'">
      <span class="font-medium">Obtener todos los datos sin filtro de tiempo</span>
    </mat-checkbox>
    <p class="text-sm text-gray-500 ml-9 mt-1">Al seleccionar esta opción, se ignorará cualquier intervalo de fechas
      especificado</p>
  </div>

  <!-- Checkbox para habilitar el selector de fechas -->
  <div class="mb-6">
    <mat-checkbox (change)="onDateRangeChange($event)" [color]="'primary'" [disabled]="selectAll">
      <span class="font-medium">Especificar intervalo de tiempo</span>
    </mat-checkbox>

    <!-- Selectores de fecha que se muestran solo cuando está activado -->
    @if (selectDateRange && !selectAll) {
    <div  class="ml-9 mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Fecha inicial</label>
        <mat-form-field appearance="outline" class="w-full">
          <input matInput [matDatepicker]="startPicker" [(ngModel)]="startDate" [max]="endDate">
          <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
          <mat-datepicker #startPicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Fecha final</label>
        <mat-form-field appearance="outline" class="w-full">
          <input matInput [matDatepicker]="endPicker" [(ngModel)]="endDate" [min]="startDate">
          <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
          <mat-datepicker #endPicker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>
    }
  </div>

  <div class="flex justify-end mt-4 space-x-2 mb-4">
    <button type="button"
      class="text-emerald-700 hover:text-white border border-emerald-700 hover:bg-emerald-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-2.5 text-center me-1 mb-1 dark:border-emerald-500 dark:text-emerald-500 dark:hover:text-white dark:hover:bg-emerald-500 dark:focus:ring-emerald-800"
      (click)="accept()">Aceptar
    </button>
    <button type="button"
      class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2.5 text-center me-1 mb-1 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900"
      (click)="cancel()">Cancelar</button>
  </div>
</div>